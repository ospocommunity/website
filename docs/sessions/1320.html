<!DOCTYPE HTML>

<html>
<head>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-130779021-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'UA-130779021-1');
    </script>
    <title>ApacheCon @Home</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="description" content=""/>
    <meta name="keywords" content=""/>

    <meta property='og:title' content='ApacheCon @Home'/>
    <meta property='og:url' content='//apachecon.com/acah2021/'/>
    <base href="https://elek.github.io/acah2021/"/>
    
    <script src="js/jquery.min.js"></script>
    <script src="js/jquery.dropotron.min.js"></script>
    <script src="js/skel.min.js"></script>
    <script src="js/skel-layers.min.js"></script>
    <script src="js/init.js"></script>
    <noscript>
        <link rel="stylesheet" href="css/skel.css"/>
        <link rel="stylesheet" href="css/style.css"/>
    </noscript>
    
</head>
<body>


<div class="wrapper style1">

    
    <div id="header">
        <div class="container">
            
            <a href="index.html"><img class="logo-img" src="images/apachecon.png" height="30" ALIGN=CENTER></a>


            
            
            <nav id="nav">
    <ul>
        <li><a href="cfp.html">Call for Presentations</a></li>
         <li><a href="https://hopin.to/events/apachecon-home">Register</a></li>
         <li><a href="http://s.apache.org/acah-tshirt">TShirt</a></li>
         <li><a href="tracks.html">Tracks</a></li>
         <li><a href="sessions.html">Schedule</a></li>
        <li><a href="conduct.html">Code of Conduct</a></li>
    </ul>
</nav>

        </div>
    </div>


    
    <div id="main" class="wrapper style4">

        
        <div id="content" class="container">
            <section>
                <header class="major">
                    <h3>Unifying Batch and Stream Data Processing with Apache Calcite and Apache Beam</h3>
                    <h4>Khai Tran</h4>
                    2019-09-12 15:30
                    <a class="label" href="tracks/beam.html">#beam</a></li>
                </header>

                <p>At LinkedIn, we have a large and ever-expanding corpus of big data processing code written using batch processing frameworks like Pig, Hive, and Spark. These data processing pipelines produce derived data artifacts like metrics, dimensions, and features and are generally run at daily or hourly end-to-end latencies. For a subset of these artifacts, there often arises a need to produce them at a faster cadence, say minutely or even continuously. At that point, the common practice used to be that the developer would re-write the same derivation logic using a stream processing framework (Apache Samza in case of LinkedIn). This causes two problems:</p>
<ol>
<li>The time to go from a pipeline that generates data at hourly grain to a pipeline that generates the same data continuously is governed by developer time to understand the batch code and rewrite it in streaming language; typically weeks to a month to fully operationalize this pipeline.</li>
<li>The rewritten pipeline may not be exactly the same as the batch pipeline because of subtle differences in the logic or UDFs across the two code bases. Over time these pipelines can continue to diverge especially if different teams own the batch and streaming pipelines.
In this talk, we present our solution to this batch-stream divide; a system that can auto-generate streaming code from batch logic and employ the Lambda architecture to transparently deliver merged results to data consumers. Technically, our Lambda architecture is very similar to the traditional Lambda architecture; however, our users only need to maintain a single code base in batch logic. This code base serves as a single source of truth to specify what users want to compute. If they need fresher results, they just need to turn on the streaming flag.
We will deep-dive into technical details for this system which is built using open source components: Apache Beam and Apache Calcite. Weâ€™ll also share our experience using this system to auto-migrate batch scripts in our unified metrics platform into near realtime pipelines running on Apache Samza and our plans in the future to share this with the community.</li>
</ol>


            </section>
        </div>
    </div>

    

<div id="footer">
  <section class="container">
    <header class="major">
      <h2>Connect with us</h2>

    </header>
    <table><tr><td><a href="https://www.facebook.com/ApacheSoftwareFoundation/">
        <img width="66" src="images/iconmonstr-facebook-6-96.png"></a></td><td>
        <a href="https://twitter.com/ApacheCon"><img width="66" src="images/iconmonstr-twitter-1-96.png"></td><td><a href="http://s.apache.org/apachecon-slack"><img width="66" src="images/slack-icon.png"></tD></tr></table>				<hr /><p>ApacheCon operates under the terms of the <a href="https://www.apache.org/foundation/policies/conduct.html">Apache Software Foundation Code of Conduct</a>. </p>
    <hr />
    <p class="byline">Copyright 2021, <a href="https://www.apache.org/">The Apache Software Foundation</a>, Licensed under the Apache License, Version 2.0. <br />Apache and the Apache feather logo are trademarks of The Apache Software Foundation.</div>
    </section>
</div>
</div>

</body>
</html>

